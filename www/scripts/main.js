!function e(t,i,s){function n(r,l){if(!i[r]){if(!t[r]){var o="function"==typeof require&&require;if(!l&&o)return o(r,!0);if(a)return a(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[r]={exports:{}};t[r][0].call(h.exports,function(e){var i=t[r][1][e];return n(i||e)},h,h.exports,e,t,i,s)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(e,t,i){"use strict";function s(e){n.style.transform="translate3d("+(e.getBoundingClientRect().left-o)+"px, 0px, 0px)",n.style.width=e.offsetWidth+"px"}var n=document.createElement("div"),a=document.getElementsByClassName("active")[0],r=document.getElementsByClassName("header_menu")[0],l=document.getElementsByClassName("header_menu_item");n.classList.add("magicline"),r.appendChild(n);var o=a.getBoundingClientRect().left;window.addEventListener("resize",function(){o=a.getBoundingClientRect().left}),s(a),setTimeout(function(){n.style.transition="all 0.5s ease-out"},500);for(var u=0;u<l.length;u++)l[u].addEventListener("mouseenter",function(){s(this)}),l[u].addEventListener("mouseout",function(){s(a)})},{}],2:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(){new r.default("slider_news","slider_news_list","slider_buttons",1).init(),new h.default("bestseller","listvelos","bestseller_filter").init(),new h.default("allproducts","listvelos","all_models_filter","#button_search").init(),new o.default("header_hamburger","site_page").init(),new d.default("graph_sellers","graph_sellers_legend").init()}var a=e("./models/slider.model"),r=s(a),l=e("./models/hamburger.model"),o=s(l),u=e("./models/velosItems.model"),h=s(u),c=e("./models/graphSellers.model"),d=s(c);e("./animations/anime_magicbar"),"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)},{"./animations/anime_magicbar":1,"./models/graphSellers.model":4,"./models/hamburger.model":5,"./models/slider.model":6,"./models/velosItems.model":8}],3:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),a=function(){function e(t){s(this,e),this.el=t,this.value=t.getAttribute("data-direction")}return n(e,[{key:"init",value:function(){this.el.addEventListener("click",this.sendMoveEvent.bind(this))}},{key:"sendMoveEvent",value:function(){var e=new CustomEvent("move",{detail:{directionUnit:this.value}});document.dispatchEvent(e)}}]),e}();i.default=a},{}],4:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),a=8,r=function(){function e(t,i){s(this,e),this.el=document.getElementById(t),this.legendEl=document.getElementById(i),this.legendElCtx=this.legendEl.getContext("2d"),this.graphItems=[],this.elCtx=this.el.getContext("2d"),this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.maxValueSellerItem=0,this.el.width=this.width,this.el.height=this.height,this.sectionHeight=this.height/a,window.addEventListener("resize",function(){this.clearCanvas(),this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.el.width=this.width,this.el.height=this.height,this.sectionHeight=this.height/a,this.drawGraph()}.bind(this))}return n(e,[{key:"clearCanvas",value:function(){this.elCtx.clearRect(0,0,this.width,this.height)}},{key:"init",value:function(){this.loadDatas()}},{key:"loadDatas",value:function(){var e=new XMLHttpRequest;e.open("GET","datas/sellers.json"),e.addEventListener("readystatechange",this.datasLoaded.bind(this,e)),e.send()}},{key:"datasLoaded",value:function(e){if(4===e.readyState)200===e.status?this.buildGraphSellersItems(JSON.parse(e.responseText)):console.log("Erreur");else switch(e.readyState){case 0:console.log("init");break;case 1:console.log("open");break;case 2:console.log("sended");break;case 3:console.log("got")}}},{key:"buildGraphSellersItems",value:function(e){var t=[];for(var i in e.elements)e.elements.hasOwnProperty(i)&&(t[i]=new o(e.elements[i]));for(var s in e.sellers)if(e.sellers.hasOwnProperty(s)){this.graphItems[s]=[];for(var n=0;n<e.sellers[s].length;n++)this.graphItems[s].push(new l(s,e.sellers[s][n],t[e.sellers[s][n].type]))}for(var a in this.graphItems)for(var r in this.graphItems[a])this.graphItems[a].hasOwnProperty(r)&&this.maxValueSellerItem<this.graphItems[a][r].value&&(this.maxValueSellerItem=this.graphItems[a][r].value);this.drawLegend(t),this.drawGraph()}},{key:"drawGraph",value:function(){this.drawBackgroundGradient(),this.drawLines(),this.drawCursorsSellers()}},{key:"drawLines",value:function(){this.elCtx.beginPath();for(var e=this.sectionHeight;e<this.height-this.sectionHeight;e+=this.sectionHeight)this.elCtx.moveTo(0,e),this.elCtx.lineTo(this.width,e);this.elCtx.strokeStyle="white",this.elCtx.lineWidth=1,this.elCtx.stroke()}},{key:"drawCursorsSellers",value:function(){var e=this.width/Object.keys(this.graphItems).length/2;for(var t in this.graphItems){this.writeMounth(e,t);for(var i in this.graphItems[t])if(this.graphItems[t].hasOwnProperty(i)){var s=this.height-this.sectionHeight-this.graphItems[t][i].value/100*this.sectionHeight;this.drawCursor(e,s,this.graphItems[t][i].SellerItemElement,this.elCtx)}e+=this.width/Object.keys(this.graphItems).length}}},{key:"writeMounth",value:function(e,t){this.elCtx.font="15px Arial",this.elCtx.textAlign="center",this.elCtx.fillStyle="white",this.elCtx.fillText(t,e,this.height-20)}},{key:"drawCursor",value:function(e,t,i,s){switch(s.beginPath(),i.style){case"circle":this.drawCursorCircle(e,t,s);break;case"square":this.drawCursorSquare(e,t,s);break;case"triangle":this.drawCursorTriangle(e,t,s)}s.fillStyle=i.color,s.fill(),s.strokeStyle="#ff3f0c",s.lineWidth=2,s.stroke(),s.closePath()}},{key:"drawCursorCircle",value:function(e,t,i){i.arc(e,t,5,0,2*Math.PI)}},{key:"drawCursorSquare",value:function(e,t,i){i.fillRect(e-5,t-5,10,10)}},{key:"drawCursorTriangle",value:function(e,t,i){i.moveTo(e+6,t+5),i.lineTo(e,t-8),i.lineTo(e-6,t+5)}},{key:"drawLegend",value:function(e){var t=40;for(var i in e)this.drawCursor(t,6,e[i],this.legendElCtx),this.legendElCtx.font="15px Arial",this.legendElCtx.textAlign="left",this.legendElCtx.fillStyle="white",this.legendElCtx.fillText(i,t+10,10),t+=120}},{key:"drawBackgroundGradient",value:function(){var e=this.elCtx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"#ff3f0c"),e.addColorStop(.25,"#d8350a"),e.addColorStop(.5,"#d8350a"),e.addColorStop(.75,"#d8350a"),e.addColorStop(1,"#ff3f0c"),this.elCtx.beginPath(),this.drawShape(0,0),this.elCtx.fillStyle=e,this.elCtx.fill()}},{key:"drawShape",value:function(e,t){this.elCtx.moveTo(38+e,6*this.sectionHeight+t),this.elCtx.bezierCurveTo(54+e,140+t,85+e,26+t,188+e,69+t),this.elCtx.bezierCurveTo(262+e,100+t,247+e,175+t,304+e,175+t),this.elCtx.bezierCurveTo(333+e,175+t,384+e,115+t,430+e,107+t),this.elCtx.bezierCurveTo(488+e,97+t,565+e,211+t,this.width+e,6*this.sectionHeight+t)}}]),e}();i.default=r;var l=function e(t,i,n){s(this,e),this.mounth=t,this.value=i.value,this.type=i.type,this.SellerItemElement=n},o=function e(t){s(this,e),this.color=t.color,this.style=t.style}},{}],5:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),a=function(){function e(t,i){s(this,e),this.el=document.querySelector("."+t),this.containerEl=document.querySelector("."+i),this.containerNameActive=i+"_menu-active"}return n(e,[{key:"init",value:function(){this.el.addEventListener("click",this.changeState.bind(this))}},{key:"changeState",value:function(){this.containerEl.classList.contains(this.containerNameActive)?this.containerEl.classList.remove(this.containerNameActive):this.containerEl.classList.add(this.containerNameActive)}}]),e}();i.default=a},{}],6:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=e("./slideritem.model"),l=s(r),o=e("./arrow.model"),u=s(o),h=function(){function e(t,i,s,a){n(this,e),this.el=document.querySelector('*[data-name="'+t+'"]'),this.arrows=this.getArrows(t),this.sliderItems=null,this.current=a,this.listEl=this.el.querySelector('*[data-name="'+i+'"]'),this.bubblesEl=this.el.parentNode.querySelector('*[data-name="'+s+'"]')}return a(e,[{key:"init",value:function(){this.loadDatas(),document.addEventListener("move",this.move.bind(this))}},{key:"moveSliderItem",value:function(){var e=new CustomEvent("move",{detail:{directionUnit:1}});document.dispatchEvent(e)}},{key:"move",value:function(e){var t=this.listEl.querySelector(".slider_item_active"),i=t.id.substr(t.id.length-1),s=0;null!=e.detail.directionUnit?(s=parseInt(i)+parseInt(e.detail.directionUnit),-1==s?s=this.sliderItems.length-1:s==this.sliderItems.length&&(s=0)):null!=e.detail.directionId&&(s=parseInt(e.detail.directionId)),this.changeCurrentItem(s),this.resetTimer()}},{key:"resetTimer",value:function(){clearInterval(this.timer),this.timer=setInterval(this.moveSliderItem,7e3)}},{key:"build",value:function(e){this.sliderItems=this.getItems(e),this.buildSliderItems(),this.buildBubblesItems(),this.changeCurrentItem(this.current)}},{key:"changeCurrentSliderItem",value:function(e){var t=document.getElementById("listnews_products_item_"+e),i=document.querySelector(".slider_item_active");null!=i&&i.classList.remove("slider_item_active"),t.classList.add("slider_item_active")}},{key:"changeCurrentBubbleItem",value:function(e){var t=document.getElementById("slider_image_"+e),i=this.bubblesEl.querySelector(".slider_image_active");null!=i&&i.classList.remove("slider_image_active"),t.classList.add("slider_image_active")}},{key:"changeCurrentItem",value:function(e){this.changeCurrentSliderItem(e),this.changeCurrentBubbleItem(e),this.sliderItems[e].startAnimation(15)}},{key:"getItems",value:function(e){var t=[],i=0,s=e.length;for(i;i<s;i++)t[i]=new l.default(i,e[i]);return t}},{key:"getArrows",value:function(e){var t=document.querySelectorAll('*[data-target="'+e+'"]'),i=0,s=t.length,n=[];for(i;i<s;i++)n[i]=new u.default(t[i]),n[i].init();return n}},{key:"loadDatas",value:function(){var e=new XMLHttpRequest;e.open("GET","datas/slider.json"),e.addEventListener("readystatechange",this.datasLoaded.bind(this,e)),e.send()}},{key:"datasLoaded",value:function(e){if(4==e.readyState)200==e.status?this.build(JSON.parse(e.responseText)):console.log("Erreur");else switch(e.readyState){case 0:console.log("init");break;case 1:console.log("open");break;case 2:console.log("sended");break;case 3:console.log("got")}}},{key:"buildSliderItems",value:function(){var e=0,t=this.sliderItems.length;for(e;e<t;e++){var i=document.createElement("li");i.classList.add("listnews_products_item"),i.id="listnews_products_item_"+e,i.innerHTML=this.sliderItems[e].html,this.sliderItems[e].el=i,this.listEl.appendChild(i)}}},{key:"buildBubblesItems",value:function(){var e=0,t=this.sliderItems.length;for(e;e<t;e++){var i=document.createElement("img");i.classList.add("slider_image"),i.id="slider_image_"+e,i.src=this.sliderItems[e].image,i.addEventListener("click",function(){var e=this.id.substr(this.id.length-1),t=new CustomEvent("move",{detail:{directionId:e}});document.dispatchEvent(t)}),this.bubblesEl.appendChild(i)}}}]),e}();i.default=h},{"./arrow.model":3,"./slideritem.model":7}],7:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),a=function(){function e(t,i){s(this,e),this.el=null,this.image=i.image,this.title=i.title,this.description=i.description,this.url=i.url,this.animation=i.animation,this.html=this.gerenateHml()}return n(e,[{key:"gerenateHml",value:function(){return"            <article class='news_product_item'>                  <img class='new_product_image' src='"+this.image+"' alt='Image vélo nouveauté'>                   <div class='new_product_content'>                       <div class='new_product_text'><h2 class='new_product_title'>"+this.title+"</h2>                       <p class='new_product_descr'>"+this.description+"</p></div>                       <a src='"+this.url+"' class='button button-link button-link-large button_link-anime button_link-anime-green new_product_button'>commander</a>                   </div>            </article>"}},{key:"getParams",value:function(){var e={};switch(parseInt(this.animation)){case 1:e.image={x:-4,y:0},e.text={x:0,y:-6},e.button={x:0,y:7};break;case 2:e.image={x:3,y:0},e.text={x:6,y:0},e.button={x:0,y:5};break;case 3:e.image={x:0,y:-5},e.text={x:-5,y:0},e.button={x:9,y:0};break;default:e.image={x:20,y:30},e.text={x:0,y:0},e.button={x:0,y:0}}return e}},{key:"startAnimation",value:function(e){var t=this.getParams(),i=this.el.querySelector(".new_product_image"),s=this.el.querySelector(".new_product_text"),n=this.el.querySelector(".new_product_button");TweenMax.fromTo(i,1,{x:t.image.x*e,y:t.image.y*e,opacity:0},{x:0,y:0,opacity:1}),TweenMax.fromTo(s,1,{x:t.text.x*e,y:t.text.y*e,opacity:0},{x:0,y:0,opacity:1}),TweenMax.fromTo(n,1,{x:t.button.x*e,y:t.button.y*e,opacity:0},{x:0,y:0,opacity:1})}}]),e}();i.default=a},{}],8:[function(require,module,exports){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),VelosItems=function(){function VelosItems(e,t,i,s){_classCallCheck(this,VelosItems),this.el=document.getElementsByClassName(e)[0],this.listVelosEl=this.el.getElementsByClassName(t)[0],this.filterEl=this.el.querySelector("#"+i),this.currentFilterValue=this.filterEl.querySelector("option[selected]").value,this.filterEl.addEventListener("change",this.filtreHasChange.bind(this)),this.velosItems=[],this.velosItemsBase=[],void 0!==s&&(this.searchEl=this.el.querySelector(s),this.searchEl.addEventListener("keyup",this.searchHasChange.bind(this)))}return _createClass(VelosItems,[{key:"init",value:function(){this.loadDatas()}},{key:"filtreHasChange",value:function(e){this.velosItems=this.sortByAttribute(e.target.value),this.buildListVelos()}},{key:"searchHasChange",value:function(){this.velosItems=this.sortBySearch(this.searchEl.value),this.buildListVelos()}},{key:"sortByAttribute",value:function sortByAttribute(name){return this.velosItems.sort(function(a,b){return eval("a."+name)>eval("b."+name)?1:eval("b."+name)>eval("a."+name)?-1:0})}},{key:"sortBySearch",value:function(e){for(var t=[],i=0;i<this.velosItemsBase.length;i++)-1!==this.velosItemsBase[i].name.indexOf(e)&&t.push(this.velosItemsBase[i]);return t}},{key:"loadDatas",value:function(){var e=new XMLHttpRequest;e.open("GET","datas/velos.json"),e.addEventListener("readystatechange",this.datasLoaded.bind(this,e)),e.send()}},{key:"datasLoaded",value:function(e){if(4===e.readyState)200===e.status?this.getVelosItems(JSON.parse(e.responseText)):console.log("Erreur");else switch(e.readyState){case 0:console.log("init");break;case 1:console.log("open");break;case 2:console.log("sended");break;case 3:console.log("got")}}},{key:"getVelosItems",value:function(e){e.forEach(function(e){this.velosItems.push(new VeloItem(e)),this.velosItemsBase.push(new VeloItem(e))}.bind(this)),this.velosItems=this.sortByAttribute(this.currentFilterValue),this.buildListVelos()}},{key:"buildListVelos",value:function(){this.listVelosEl.innerHTML="",this.velosItems.forEach(function(e){this.listVelosEl.appendChild(e.el)}.bind(this))}}]),VelosItems}();exports.default=VelosItems;var VeloItem=function(){function VeloItem(datasJson){_classCallCheck(this,VeloItem);for(var k in datasJson)datasJson.hasOwnProperty(k)&&eval("this."+k+" = '"+datasJson[k]+"'");this.el=this.buildVeloItem()}return _createClass(VeloItem,[{key:"buildVeloItem",value:function(){var e=document.createElement("li"),t="";return e.classList.add("listvelos_item"),this.stock<=2&&(t=" velo_item-limit"),e.innerHTML='<li class="listvelos_item">\n                    <article class="velo_item'+t+'">\n                        <img class="listvelos_item_image" alt="Photo du modèle" src="'+this.image+'">\n                        <header class="velo_item-top">\n                            <h1>'+this.name+'</h1>\n                            <span class="velo_item_info">'+this.type+'</span>\n                        </header>\n                        <footer class="velo_item-bottom">\n                            <span>'+this.stock+" en stock</span>\n                        </footer>\n                    </article>\n                </li>",e}}]),VeloItem}()},{}]},{},[2]);
//# sourceMappingURL=main.js.map
